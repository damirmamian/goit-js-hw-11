{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"53393377-61327aeaa606bd712bd3f0283\"\nconst URL = \"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query) {\n    return axios.get(URL, {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\"\n        }\n    }).then(response => response.data)\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    navText: ['←', '→'],\n    closeText: '×'\n});\n\nexport function createGallery(images) {\n    const markup = images.map(image => {\n        return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n      />\n    </a>\n    <div class=\"info\">\n       <p><b>Likes</b> ${image.likes}</p>\n       <p><b>Views</b> ${image.views}</p>\n       <p><b>Comments</b> ${image.comments}</p>\n       <p><b>Downloads</b> ${image.downloads}</p>\n    </div>\n  </li>`;\n    }).join(\"\")\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\"\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\")\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\")\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\")\nconst gallery = document.querySelector(\".gallery\")\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault()\n    const query = event.target.elements[\"search-text\"].value.trim()\n    if (query === \" \") {\n        iziToast.error({\n            message: \"Type something into the search\",\n            position: 'topRight',\n        })\n        return\n    }\n    clearGallery()\n    showLoader()\n    getImagesByQuery(query)\n        .then(response => {\n            if (response.hits.length == 0) {\n                iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight'\n                })\n            } else if (response.hits.length > 0) {\n                createGallery(response.hits)\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                message: `Error: ${error}`,\n                position: 'topRight',\n            })\n            hideLoader()\n\n        })\n        .finally(() => hideLoader())\n    event.target.reset()\n})"],"names":["API_KEY","URL","getImagesByQuery","query","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","event","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAM,2BAEL,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAIH,EAAK,CAClB,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACJ,CAAA,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACrC,CCZA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,IACd,QAAS,CAAC,IAAK,GAAG,EAClB,UAAW,GACf,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GACf;AAAA,oCACqBA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yBAIAA,EAAM,KAAK;AAAA,yBACXA,EAAM,KAAK;AAAA,4BACRA,EAAM,QAAQ;AAAA,6BACbA,EAAM,SAAS;AAAA;AAAA,QAGvC,EAAE,KAAK,EAAE,EACVP,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BR,EAAQ,UAAY,EACxB,CAEO,SAASS,GAAa,CACzBR,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASS,GAAa,CACzBT,EAAO,UAAU,IAAI,QAAQ,CACjC,CCxCA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EAEjDA,EAAK,iBAAiB,SAAUC,GAAS,CACrCA,EAAM,eAAgB,EACtB,MAAMf,EAAQe,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAM,EAC/D,GAAIf,IAAU,IAAK,CACfgB,EAAS,MAAM,CACX,QAAS,iCACT,SAAU,UACtB,CAAS,EACD,MACH,CACDL,EAAc,EACdC,EAAY,EACZb,EAAiBC,CAAK,EACjB,KAAKE,GAAY,CACVA,EAAS,KAAK,QAAU,EACxBc,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACMd,EAAS,KAAK,OAAS,GAC9BK,EAAcL,EAAS,IAAI,CAE3C,CAAS,EACA,MAAMe,GAAS,CACZD,EAAS,MAAM,CACX,QAAS,UAAUC,CAAK,GACxB,SAAU,UAC1B,CAAa,EACDJ,EAAY,CAExB,CAAS,EACA,QAAQ,IAAMA,GAAY,EAC/BE,EAAM,OAAO,MAAO,CACxB,CAAC"}